{% load static %}

<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Simulado Digital</title>
  <link rel="stylesheet" href="{% static 'simulado/inicio.css' %}">
  <link rel="stylesheet" href="{% static 'simulado/scroll-hint.css' %}">
</head>
<body class="inicio-body">
  <main class="inicio-layout">
    <section class="inicio-hero">
      <div class="inicio-hero-top">
        <p class="inicio-badge">Simulado digital</p>
        <a
          href="{% url 'menu:home' %}"
          class="inicio-btn inicio-btn--ghost inicio-btn--plan"
        >
          Voltar para o menu
        </a>
      </div>
      <h1 class="inicio-title">Escolha como começar</h1>
      <p class="inicio-subtitle">
        Você pode iniciar direto com o pacote padrão ou abrir a tela de filtros para montar o treino antes de começar.
      </p>
    </section>

    <section class="inicio-grid">
      <form method="post" action="{% url 'simulado:iniciar' %}" class="inicio-card inicio-card--primary">
        {% csrf_token %}
        <h2 class="inicio-card-title">{{ inicio_rapido.label|default:"Inicio rapido" }}</h2>
        <p class="inicio-card-text">
          {{ inicio_rapido.hint|default:"Usa o curso e os filtros padrão definidos na configuracao." }}
        </p>

        <div class="inicio-meta">
          <span class="inicio-pill">Modo {{ quick_filters.modo|default:"PROVA" }}</span>
          <span class="inicio-pill">{{ quick_filters.qtd|default:10 }} questões</span>
          {% if quick_filters.dificuldade %}
            <span class="inicio-pill">Dificuldade {{ quick_filters.dificuldade }}</span>
          {% else %}
            <span class="inicio-pill">Dificuldade mista</span>
          {% endif %}
          {% if quick_filters.com_imagem %}<span class="inicio-pill">So com imagem</span>{% endif %}
          {% if quick_filters.so_placas %}<span class="inicio-pill">So placas</span>{% endif %}
        </div>

        <input type="hidden" name="curso_id" value="{{ quick_curso_id|default_if_none:'' }}">
        <input type="hidden" name="modulo_id" value="">
        <input type="hidden" name="modo" value="{{ quick_filters.modo|default:'PROVA' }}">
        <input type="hidden" name="dificuldade" value="{{ quick_filters.dificuldade|default:'' }}">
        <input type="hidden" name="com_imagem" value="{{ quick_filters.com_imagem|yesno:'1,0' }}">
        <input type="hidden" name="so_placas" value="{{ quick_filters.so_placas|yesno:'1,0' }}">
        <input type="hidden" name="qtd" value="{{ quick_filters.qtd|default:10 }}">

        <button
          type="submit"
          class="inicio-btn inicio-btn--primary"
          {% if not quick_curso_id or not inicio_rapido.habilitado %}
            disabled
            title="{{ inicio_rapido.tooltip|default:'Curso padrão nao encontrado' }}"
          {% endif %}
        >
          {{ inicio_rapido.label|default:"Inicio rapido" }}
        </button>

        <p class="inicio-hint">
          {% if not quick_curso_id %}
            Curso padrão nao encontrado. Ajuste o config do simulado para habilitar.
          {% else %}
            Inicia imediatamente usando as preferencias padrão.
          {% endif %}
        </p>
      </form>

      <div class="inicio-card inicio-card--secondary">
        <h2 class="inicio-card-title">Monte seu Simulado</h2>
        <p class="inicio-card-text">
          Monte o simulado escolhendo curso, modulo, quantidade e demais filtros antes de comecar.
        </p>
        <div class="inicio-card-actions">
          <a href="{% url 'simulado:config' %}" class="inicio-btn inicio-btn--primary">Monte seu Simulado</a>
        </div>
        <div class="inicio-divider"></div>
        <ul class="inicio-list">
          <li>Ver disponibilidade e estatisticas por dificuldade.</li>
          <li>Selecionar modo Prova ou Estudo.</li>
          <li>Filtrar por questoes com imagem ou so placas.</li>
        </ul>
      </div>
    </section>
  </main>

  <div class="scroll-hint__sentinel" aria-hidden="true"></div>
  <script src="{% static 'simulado/scroll-hint.js' %}"></script>
</body>
</html>
