{% load static %}

<link rel="stylesheet" href="{% static 'simulado/simulado.css' %}">

<div class="simulado-container simulado-questao">

  <h2 class="simulado-titulo">
    Questão {{ idx|add:1 }} de {{ total }}
  </h2>

  <p class="simulado-modulo">
    <strong>{{ questao.modulo.nome }}</strong>
  </p>

  <p class="simulado-enunciado">
    {{ questao.enunciado }}
  </p>

  {% if questao.imagem_arquivo %}
    <div class="questao-imagem-wrapper">
      <img
        src="{% static 'placas/' %}{{ questao.imagem_arquivo }}"
        alt="Imagem da questão"
        class="questao-imagem"
        onerror="this.closest('.questao-imagem-wrapper').style.display='none';"
      >
      <small class="questao-imagem-label">
        Arquivo: {{ questao.imagem_arquivo }}
      </small>
    </div>
  {% endif %}

  <form method="post" action="{% url 'simulado:responder' %}" class="simulado-form">
    {% csrf_token %}

    {% for a in alternativas %}
      <div class="alternativa">
        <label class="alternativa-label">
          <input
            type="radio"
            name="alternativa_id"
            value="{{ a.id }}"
            required
            class="alternativa-radio"
          >
          <span class="alternativa-texto">
            {{ a.texto }}
          </span>
        </label>
      </div>
    {% endfor %}

    <button type="submit" class="btn-simulado">
      Responder
    </button>
  </form>

</div>
